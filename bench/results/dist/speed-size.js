!function(){"use strict";const t=[];let e,n;function r(r){function o(s){if(0===arguments.length)return e&&!o.o.has(e)&&(o.o.add(e),e.u.push(o)),r;if(n)return o.t===t&&n.push(o),o.t=s,s;r=s;const i=e;return e=void 0,o.i=new Set(o.o),o.i.forEach(t=>t.s=!1),o.i.forEach(t=>{t.s||t()}),e=i,r}return o.$o=!0,o.o=new Set,o.t=t,o}function o(t,n){function r(){const o=e;e&&e.__c.push(r);const s=r.__c;return i(r),r.s=!0,e=r,n=t(n),s.forEach(t=>{-1===r.__c.indexOf(t)&&(t.s=!0)}),function t(e){return e.reduce((e,n)=>e.concat(n,t(n.__c)),[])}(r.__c).forEach(t=>{t.s&&t.u.forEach(e=>{e.i&&e.i.delete(t)})}),e=o,n}return t.v=r,c(r),r(),function(){return r.s?r.u.forEach(t=>t()):n=r(),n}}function s(t){return o(t),()=>i(t.v)}function i(t){t.__c.forEach(i),t.u.forEach(e=>{e.o.delete(t)}),t.S.forEach(t=>t()),c(t)}function c(t){t.u=[],t.__c=[],t.S=[]}var l=Object.freeze({S:o,cleanup:function(t){return e&&e.S.push(t),t},computed:o,isListening:function(){return!!e},o:r,observable:r,root:function(t){const n=e,r=()=>{};e=r,c(r);const o=t(()=>{i(r),e=void 0});return e=n,o},sample:function(t){const n=e;e=void 0;const r=t();return e=n,r},subscribe:s,transaction:function(e){n=[];const r=e();let o=n;return n=void 0,o.forEach(e=>{if(e.t!==t){const n=e.t;e.t=t,e(n)}}),r},unsubscribe:function(t){i(t.v)}});const a={},u=[],f="__g";function d(t,e,n,r){if(n){if(e){if(!r){const e=(r=n.previousSibling||t.lastChild)[f];if(e)for(r=r.previousSibling;r&&r[f]!==e;)r=r.previousSibling}let e;for(;r&&r!==n;)e=r.nextSibling,t.removeChild(r),r[f]=0,r=e}}else t.textContent=""}let h=0;function p(t,e,n,r,o){t=n&&n.parentNode||t;const s=typeof e;return e===r||(!e&&0!==e||!0===e?(d(t,r,n,o),r=null):r&&"string"!=typeof r||!("string"===s||"number"===s&&(e+=""))?"function"===s?a.subscribe(function(){r=a.insert(t,e(),n,r)}):(d(t,r,n,o),e instanceof Node||(e=a.h(u,e)),11===e.nodeType&&e.firstChild!==e.lastChild&&(e.firstChild[f]=e.lastChild[f]=++h),t.insertBefore(e,n||null),r=e):(null!=r&&t.firstChild?n?(n.previousSibling||t.lastChild).data=e:t.firstChild.data=e:n?t.insertBefore(document.createTextNode(e),n):t.textContent=e,r=e)),r}function m(t,e,n,r,o){if(!t||"attrs"===t&&(r=!0))for(t in e)m(t,e[t],n,r,o);else"o"!==t[0]||"n"!==t[1]||e.$o?"function"==typeof e?e.$t?e.$t(2,m,n,t):a.subscribe(()=>{m(t,e(),n,r,o)}):o?n.style.setProperty(t,e):r||"data-"===t.slice(0,5)||"aria-"===t.slice(0,5)?n.setAttribute(t,e):"style"===t?"string"==typeof e?n.style.cssText=e:m(null,e,n,r,!0):("class"===t&&(t+="Name"),n[t]=e):function(t,e,n){e=e.slice(2);const r=a.cleanup(()=>t.removeEventListener(e,y));n?t.addEventListener(e,y):r(),(t.t||(t.t={}))[e]=n}(n,t,e)}function y(t){return this.t[t.type](t)}function _(t,e){for(let e in t)a[e]=t[e];function n(){const t=u.slice.call(arguments);let n;return t.forEach(function r(o){const s=typeof o;if(null==o);else if("string"===s)n?n.appendChild(document.createTextNode(o)):n=e?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(o);else if(Array.isArray(o))n||(n=document.createDocumentFragment()),o.forEach(r);else if(o instanceof Node)n?n.appendChild(o):n=o;else if("object"===s)m(null,o,n,e);else if("function"===s)if(n){const t=n.appendChild(document.createTextNode(""));o.$t?o.$t(1,p,n,""):p(n,o,t)}else n=o.apply(null,t.splice(1));else n.appendChild(document.createTextNode(""+o))}),n}return a.insert=p,a.property=m,a.h=n,n}const b=_(l),g=_(l,!0),v=r,w=[],E={};let k;function S(t,e){const n=Array.isArray(t)?t:t.__c,r=[e,t.__p,n],o=t.t;let s,i;return r.forEach(function t(e){if(e instanceof Node)(s=e).o=s.o||0,i=w.slice.call(s.childNodes);else if(Array.isArray(e))e.forEach(t);else if(s){let t=x(i,s.o);if(t){if(e===E)s.o++;else if("string"==typeof e)t.data!==e&&(t.data=e),s.o++;else if("object"==typeof e)if(e.__c)S(e,t),s.o++;else for(let t in e)a.property(t,e[t],s,o);else if("function"==typeof e){let n,r,o,c=t.data;a.subscribe(function(){k=n;let l=e();n?c=a.insert(s,l,r,c,o):("string"==typeof l||"number"==typeof l?s.o++:(Array.isArray(l)&&(o=t,t=s),S(l,t),c=[]),r=s.insertBefore(document.createTextNode(""),x(i,s.o)||null)),k=!1,n=!0})}}else(o?g:b)(s,e)}}),s}function x(t,e){return t.filter(t=>3!==t.nodeType||t.data.trim())[e]}const A=function(t){return function(){if(k)return(t?g:b).apply(null,arguments);const e=w.slice.call(arguments),n={__c:[]};return e.forEach(function e(r){t&&(n.t=t),null==r||(r===E?n.__c.push(r):"string"==typeof r?n.__t?n.__c.push(r):n.__t=r:Array.isArray(r)?r.forEach(e):"object"==typeof r?r.__t?n.__c.push(r):n.__p=r:"function"==typeof r&&n.__c.push(r))}),n.__t?n:n.__c[1]?n.__c:n.__c[0]}}(),C={vanillajs:"#FFDD57",sinuous:"#70EDAC",solid:"#481B82",surplus:"#C559D4",react:"#61DAFB",mikado:"#59ABE9",stage0:"#374838",domc:"#704B38",inferno:"#E41E1D",wasm:"#644FF0",fidan:"#2B7489"};function N(t){return t.id||t.framework}function j(t){return N(t).split("-")[0]}function B(t){if(0===t.length)return 0;t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}const T=v("https://rawgit.com/krausest/js-framework-benchmark/master/webdriver-ts/results.json"),D=v([]),F=v("#all"),$=v(!0),z=o(()=>[...new Set(D().map(t=>t.benchmark))].sort().slice(0,9)),L=v(!1);function W(t){$(t.target.checked)}async function M(){L(!0);const t=await fetch(T()),e=await t.json();D(Array.isArray(e)?e:e.results),L(!1)}function O(){const t=z().reduce((t,e)=>(t[e]=D().filter(t=>!N(t).includes("non-keyed")).filter(t=>t.benchmark===e).sort((t,e)=>B(t.values)>B(e.values)?1:-1)[0],t),{});let e=D().filter(t=>t.benchmark.startsWith("0")||t.benchmark.startsWith("34_")).filter(t=>!N(t).includes("non-keyed")).reduce((t,e)=>{const n=t[e.framework]=t[e.framework]||{framework:e.framework,results:[]};return e.benchmark.startsWith("0")?n.results.push(e):e.benchmark.startsWith("34_")&&(n.totalbytes=e.values[0]),t},[]);const n=(e=Object.values(e).map(e=>{const n=e.results.reduce((e,n)=>e+B(n.values)/B(t[n.benchmark].values),0);return{...e,slowdown:n/e.results.length}}).sort((t,e)=>t.slowdown-e.slowdown)).map(t=>t.totalbytes),{max:r}=(o=n.concat().sort((t,e)=>t-e),s=o[Math.floor(o.length/4)],{max:(i=o[Math.ceil(.75*o.length)])+1.5*(c=i-s),min:s-1.5*c});var o,s,i,c;$()&&(e=e.filter(t=>t.totalbytes<r));const l=F().match(/\d+/);l&&(e=e.slice(0,parseInt(l[0]))),console.log(e);const a=e.map(t=>({name:N(t),marker:{color:C[j(t)]},x:[100/t.slowdown],y:[t.totalbytes],mode:"markers",type:"scatter"}));Plotly.newPlot("speed-size",a,{title:"Speed x Size",height:650,xaxis:{title:"100 / avg. slowdown (higher is better)"},yaxis:{title:"Size in bytes",autorange:"reversed"}})}s(M),document.querySelectorAll(".filter-list a").forEach(t=>{S(A("a",{class:()=>t.href.includes(F())?"is-active":""}),t)}),S(A("input",{oninput:W}),document.querySelector(".outlier-check")),s(O),window.addEventListener("hashchange",function(){location.hash&&F(location.hash)}),location.hash&&F(location.hash)}();

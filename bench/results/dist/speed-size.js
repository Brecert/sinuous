!function(){"use strict";var t=function(t){var e=0;t+="x";for(var n=parseInt(65745979961613.07),r=0;r<t.length;r++)e>n&&(e=parseInt(e/137)),e=131*e+t.charCodeAt(r);return e},e=function(e){var n=[(e=e||{}).lightness,e.saturation].map(function(t){return t=t||[.35,.5,.65],"[object Array]"===Object.prototype.toString.call(t)?t.concat():[t]});this.L=n[0],this.S=n[1],this.hash=e.hash||t};e.prototype.hsl=function(t){var e,n,r=this.hash(t);return e=r%359,r=parseInt(r/360),n=this.S[r%this.S.length],r=parseInt(r/this.S.length),[e,n,this.L[r%this.L.length]]},e.prototype.rgb=function(t){var e=this.hsl(t);return function(t,e,n){var r=n<.5?n*(1+e):n+e-n*e,o=2*n-r;return[(t/=360)+1/3,t,t-1/3].map(function(t){return t<0&&t++,t>1&&t--,t=t<1/6?o+6*(r-o)*t:t<.5?r:t<2/3?o+6*(r-o)*(2/3-t):o,Math.round(255*t)})}.apply(this,e)},e.prototype.hex=function(t){var e,n=this.rgb(t);return e="#",n.forEach(function(t){t<16&&(e+=0),e+=t.toString(16)}),e};var n=e;const r=[];let o,i;function s(t){function e(n){if(0===arguments.length)return o&&!e.o.has(o)&&(e.o.add(o),o.u.push(e)),t;if(i)return e.t===r&&i.push(e),e.t=n,n;t=n;const s=o;return o=void 0,e.i=new Set(e.o),e.i.forEach(t=>t.s=!1),e.i.forEach(t=>{t.s||t()}),o=s,t}return e.$o=!0,e.o=new Set,e.t=r,e}function c(t,e){function n(){const r=o;o&&o.__c.push(n);const i=n.__c;return l(n),n.s=!0,o=n,e=t(e),i.forEach(t=>{-1===n.__c.indexOf(t)&&(t.s=!0)}),function t(e){return e.reduce((e,n)=>e.concat(n,t(n.__c)),[])}(n.__c).forEach(t=>{t.s&&t.u.forEach(e=>{e.i&&e.i.delete(t)})}),o=r,e}return t.v=n,u(n),n(),function(){return n.s?n.u.forEach(t=>t()):e=n(),e}}function a(t){return c(t),()=>l(t.v)}function l(t){t.__c.forEach(l),t.u.forEach(e=>{e.o.delete(t)}),t.S.forEach(t=>t()),u(t)}function u(t){t.u=[],t.__c=[],t.S=[]}var f=Object.freeze({S:c,cleanup:function(t){return o&&o.S.push(t),t},computed:c,isListening:function(){return!!o},o:s,observable:s,root:function(t){const e=o,n=()=>{};o=n,u(n);const r=t(()=>{l(n),o=void 0});return o=e,r},sample:function(t){const e=o;o=void 0;const n=t();return o=e,n},subscribe:a,transaction:function(t){i=[];const e=t();let n=i;return i=void 0,n.forEach(t=>{if(t.t!==r){const e=t.t;t.t=r,t(e)}}),e},unsubscribe:function(t){l(t.v)}});const h={},d=[],p="__g";function m(t,e,n,r){if(n){if(e){if(!r){const e=(r=n.previousSibling||t.lastChild)[p];if(e)for(r=r.previousSibling;r&&r[p]!==e;)r=r.previousSibling}let e;for(;r&&r!==n;)e=r.nextSibling,t.removeChild(r),r[p]=0,r=e}}else t.textContent=""}let y=0;function _(t,e,n,r,o){t=n&&n.parentNode||t;const i=typeof e;return e===r||(!e&&0!==e||!0===e?(m(t,r,n,o),r=null):r&&"string"!=typeof r||!("string"===i||"number"===i&&(e+=""))?"function"===i?h.subscribe(function(){r=h.insert(t,e(),n,r)}):(m(t,r,n,o),e instanceof Node||(e=h.h(d,e)),11===e.nodeType&&e.firstChild!==e.lastChild&&(e.firstChild[p]=e.lastChild[p]=++y),t.insertBefore(e,n||null),r=e):(null!=r&&t.firstChild?n?(n.previousSibling||t.lastChild).data=e:t.firstChild.data=e:n?t.insertBefore(document.createTextNode(e),n):t.textContent=e,r=e)),r}function b(t,e,n,r,o){if(!t||"attrs"===t&&(r=!0))for(t in e)b(t,e[t],n,r,o);else"o"!==t[0]||"n"!==t[1]||e.$o?"function"==typeof e?e.$t?e.$t(2,b,n,t):h.subscribe(()=>{b(t,e(),n,r,o)}):o?n.style.setProperty(t,e):r||"data-"===t.slice(0,5)||"aria-"===t.slice(0,5)?n.setAttribute(t,e):"style"===t?"string"==typeof e?n.style.cssText=e:b(null,e,n,r,!0):("class"===t&&(t+="Name"),n[t]=e):function(t,e,n){e=e.slice(2);const r=h.cleanup(()=>t.removeEventListener(e,v));n?t.addEventListener(e,v):r(),(t.t||(t.t={}))[e]=n}(n,t,e)}function v(t){return this.t[t.type](t)}function g(t,e){for(let e in t)h[e]=t[e];function n(){const t=d.slice.call(arguments);let n;return t.forEach(function r(o){const i=typeof o;if(null==o);else if("string"===i)n?n.appendChild(document.createTextNode(o)):n=e?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(o);else if(Array.isArray(o))n||(n=document.createDocumentFragment()),o.forEach(r);else if(o instanceof Node)n?n.appendChild(o):n=o;else if("object"===i)b(null,o,n,e);else if("function"===i)if(n){const t=n.appendChild(document.createTextNode(""));o.$t?o.$t(1,_,n,""):_(n,o,t)}else n=o.apply(null,t.splice(1));else n.appendChild(document.createTextNode(""+o))}),n}return h.insert=_,h.property=b,h.h=n,n}const w=g(f),E=g(f,!0),k=s,S=[],A={};let x;function C(t,e){const n=Array.isArray(t)?t:t.__c,r=[e,t.__p,n],o=t.t;let i,s;return r.forEach(function t(e){if(e instanceof Node)(i=e).o=i.o||0,s=S.slice.call(i.childNodes);else if(Array.isArray(e))e.forEach(t);else if(i){let t=F(s,i.o);if(t){if(e===A)i.o++;else if("string"==typeof e)t.data!==e&&(t.data=e),i.o++;else if("object"==typeof e)if(e.__c)C(e,t),i.o++;else for(let t in e)h.property(t,e[t],i,o);else if("function"==typeof e){let n,r,o,c=t.data;h.subscribe(function(){x=n;let a=e();n?c=h.insert(i,a,r,c,o):("string"==typeof a||"number"==typeof a?i.o++:(Array.isArray(a)&&(o=t,t=i),C(a,t),c=[]),r=i.insertBefore(document.createTextNode(""),F(s,i.o)||null)),x=!1,n=!0})}}else(o?E:w)(i,e)}}),i}function F(t,e){return t.filter(t=>3!==t.nodeType||t.data.trim())[e]}const N=function(t){return function(){if(x)return(t?E:w).apply(null,arguments);const e=S.slice.call(arguments),n={__c:[]};return e.forEach(function e(r){t&&(n.t=t),null==r||(r===A?n.__c.push(r):"string"==typeof r?n.__t?n.__c.push(r):n.__t=r:Array.isArray(r)?r.forEach(e):"object"==typeof r?r.__t?n.__c.push(r):n.__p=r:"function"==typeof r&&n.__c.push(r))}),n.__t?n:n.__c[1]?n.__c:n.__c[0]}}(),j={vanillajs:"#FFDD57",sinuous:"#70EDAC",solid:"#481B82",knockout:"#DB5A03",hyperapp:"#037FFF",redom:"#E7DC64",bobril:"#936037",preact:"#673AB8",react:"#61DAFB",mikado:"#59ABE9",inferno:"#E41E1D",wasm:"#644FF0",vue:"#40B883",angular:"#A6130C",ember:"#E04E39",svelte:"#FF3E00",lit:"#FF6C6A",mithril:"#1E5799"};function B(t){return t.id||t.framework}function D(t){return B(t).split("-")[0]}function T(t){if(0===t.length)return 0;t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}const L=k("https://rawgit.com/krausest/js-framework-benchmark/master/webdriver-ts/results.json"),$=k([]),I=k("#all"),z=k(!0),M=c(()=>(function(t){return[...new Set(t)]})($().map(t=>t.benchmark)).sort().slice(0,9)),O=k(!1);function W(t){z(t.target.checked)}async function P(){O(!0);const t=await fetch(L()),e=await t.json();$(Array.isArray(e)?e:e.results),O(!1)}function q(){const t=M().reduce((t,e)=>(t[e]=$().filter(t=>!B(t).includes("non-keyed")).filter(t=>t.benchmark===e).sort((t,e)=>T(t.values)>T(e.values)?1:-1)[0],t),{});let e=$().filter(t=>t.benchmark.startsWith("0")||t.benchmark.startsWith("34_")).filter(t=>!B(t).includes("non-keyed")).reduce((t,e)=>{const n=t[e.framework]=t[e.framework]||{framework:e.framework,results:[]};return e.benchmark.startsWith("0")?n.results.push(e):e.benchmark.startsWith("34_")&&(n.totalbytes=e.values[0]),t},[]);const r=(e=Object.values(e).map(e=>{const n=e.results.reduce((e,n)=>e+T(n.values)/T(t[n.benchmark].values),0);return{...e,slowdown:n/e.results.length}}).sort((t,e)=>t.slowdown-e.slowdown)).map(t=>t.totalbytes),{max:o}=(i=r.concat().sort((t,e)=>t-e),s=i[Math.floor(i.length/4)],{max:(c=i[Math.ceil(.75*i.length)])+1.5*(a=c-s),min:s-1.5*a});var i,s,c,a;z()&&(e=e.filter(t=>t.totalbytes<o));const l=I().match(/\d+/);l&&(e=e.slice(0,parseInt(l[0]))),console.log(e);const u=e.map(t=>({name:B(t),marker:{color:j[D(t)]||(new n).hex(D(t))},x:[100/t.slowdown],y:[t.totalbytes],mode:"markers",type:"scatter"}));Plotly.newPlot("speed-size",u,{title:"Speed x Size",height:650,xaxis:{title:"100 / avg. slowdown (higher is better)"},yaxis:{title:"Size in bytes",autorange:"reversed"}},{responsive:!0})}a(P),document.querySelectorAll(".filter-list a").forEach(t=>{C(N("a",{class:()=>t.href.includes(I())?"is-active":""}),t)}),C(N("input",{oninput:W}),document.querySelector(".outlier-check")),a(q),window.addEventListener("hashchange",function(){location.hash&&I(location.hash)}),location.hash&&I(location.hash)}();
